{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.201.0"},"children":{"GamifiedCognitoStack":{"id":"GamifiedCognitoStack","path":"GamifiedCognitoStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"GamifiedUserPool":{"id":"GamifiedUserPool","path":"GamifiedCognitoStack/GamifiedUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedCognitoStack/GamifiedUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"smsVerificationMessage":"The verification code to your new account is {####}","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"GamifiedUserPoolClient":{"id":"GamifiedUserPoolClient","path":"GamifiedCognitoStack/GamifiedUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedCognitoStack/GamifiedUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://your-app-name.streamlit.app","http://localhost:3000/"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"logoutUrLs":["https://your-app-name.streamlit.app","http://localhost:3000/"],"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"GamifiedUserPoolCD44CA04"}}}}}},"UserPoolId":{"id":"UserPoolId","path":"GamifiedCognitoStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"GamifiedCognitoStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"GamifiedCognitoStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"GamifiedCognitoStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Condition":{"id":"Condition","path":"GamifiedCognitoStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GamifiedCognitoStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GamifiedCognitoStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"GamifiedBackendStack":{"id":"GamifiedBackendStack","path":"GamifiedBackendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"SessionTable":{"id":"SessionTable","path":"GamifiedBackendStack/SessionTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/SessionTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"sessionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"sessionId","keyType":"HASH"}]}}},"ScalingRole":{"id":"ScalingRole","path":"GamifiedBackendStack/SessionTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}}}},"QuizGenDLQ":{"id":"QuizGenDLQ","path":"GamifiedBackendStack/QuizGenDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{}}}}},"QuizGenQueue":{"id":"QuizGenQueue","path":"GamifiedBackendStack/QuizGenQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["QuizGenDLQA07CB3AA","Arn"]},"maxReceiveCount":3},"visibilityTimeout":60}}}}},"EvaluationQueue":{"id":"EvaluationQueue","path":"GamifiedBackendStack/EvaluationQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/EvaluationQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{}}}}},"RecordQueue":{"id":"RecordQueue","path":"GamifiedBackendStack/RecordQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/RecordQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{}}}}},"SubmitFunction":{"id":"SubmitFunction","path":"GamifiedBackendStack/SubmitFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"GamifiedBackendStack/SubmitFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GamifiedBackendStack/SubmitFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/SubmitFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GamifiedBackendStack/SubmitFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/SubmitFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SessionTableA016F679","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["QuizGenQueueF11C9B1E","Arn"]}},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EvaluationQueueF9A2AAD1","Arn"]}},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::GetAtt":["RecordQueueCE027E6F","Arn"]}}],"Version":"2012-10-17"},"policyName":"SubmitFunctionServiceRoleDefaultPolicyE9533743","roles":[{"Ref":"SubmitFunctionServiceRole9EBDFBC1"}]}}}}}}},"Code":{"id":"Code","path":"GamifiedBackendStack/SubmitFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"GamifiedBackendStack/SubmitFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"GamifiedBackendStack/SubmitFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/SubmitFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a1b718263597b74f0caedee7b5c1fe792e1075da2b22fda20131aa2b2ffe860d.zip"},"environment":{"variables":{"SESSION_TABLE":{"Ref":"SessionTableA016F679"},"QUIZGEN_QUEUE_URL":{"Ref":"QuizGenQueueF11C9B1E"},"EVALUATION_QUEUE_URL":{"Ref":"EvaluationQueueF9A2AAD1"},"RECORD_QUEUE_URL":{"Ref":"RecordQueueCE027E6F"}}},"handler":"submit.lambda_handler","role":{"Fn::GetAtt":["SubmitFunctionServiceRole9EBDFBC1","Arn"]},"runtime":"python3.11"}}}}},"GetResultFunction":{"id":"GetResultFunction","path":"GamifiedBackendStack/GetResultFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"GamifiedBackendStack/GetResultFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GamifiedBackendStack/GetResultFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/GetResultFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GamifiedBackendStack/GetResultFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/GetResultFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SessionTableA016F679","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetResultFunctionServiceRoleDefaultPolicy8801DDAF","roles":[{"Ref":"GetResultFunctionServiceRole5A5AF93B"}]}}}}}}},"Code":{"id":"Code","path":"GamifiedBackendStack/GetResultFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"GamifiedBackendStack/GetResultFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"GamifiedBackendStack/GetResultFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/GetResultFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a1b718263597b74f0caedee7b5c1fe792e1075da2b22fda20131aa2b2ffe860d.zip"},"environment":{"variables":{"SESSION_TABLE":{"Ref":"SessionTableA016F679"}}},"handler":"get_result.lambda_handler","role":{"Fn::GetAtt":["GetResultFunctionServiceRole5A5AF93B","Arn"]},"runtime":"python3.11"}}}}},"QuizGenFunction":{"id":"QuizGenFunction","path":"GamifiedBackendStack/QuizGenFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"GamifiedBackendStack/QuizGenFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"GamifiedBackendStack/QuizGenFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"GamifiedBackendStack/QuizGenFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SessionTableA016F679","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::GetAtt":["QuizGenQueueF11C9B1E","Arn"]}},{"Action":"bedrock:InvokeAgent","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"QuizGenFunctionServiceRoleDefaultPolicy26A0FCED","roles":[{"Ref":"QuizGenFunctionServiceRole91BEC176"}]}}}}}}},"Code":{"id":"Code","path":"GamifiedBackendStack/QuizGenFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"GamifiedBackendStack/QuizGenFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"GamifiedBackendStack/QuizGenFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"a1b718263597b74f0caedee7b5c1fe792e1075da2b22fda20131aa2b2ffe860d.zip"},"environment":{"variables":{"SESSION_TABLE":{"Ref":"SessionTableA016F679"},"AGENT_ID":"your-agent-id","AGENT_ALIAS_ID":"your-alias-id","BEDROCK_REGION":"ap-northeast-1"}},"handler":"quizgen.lambda_handler","role":{"Fn::GetAtt":["QuizGenFunctionServiceRole91BEC176","Arn"]},"runtime":"python3.11","timeout":30}}},"SqsEventSource:GamifiedBackendStackQuizGenQueue168E4938":{"id":"SqsEventSource:GamifiedBackendStackQuizGenQueue168E4938","path":"GamifiedBackendStack/QuizGenFunction/SqsEventSource:GamifiedBackendStackQuizGenQueue168E4938","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizGenFunction/SqsEventSource:GamifiedBackendStackQuizGenQueue168E4938/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":1,"eventSourceArn":{"Fn::GetAtt":["QuizGenQueueF11C9B1E","Arn"]},"functionName":{"Ref":"QuizGenFunctionFDF77FB0"}}}}}}}},"QuizApi":{"id":"QuizApi","path":"GamifiedBackendStack/QuizApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"QuizApi"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"GamifiedBackendStack/QuizApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"GamifiedBackendStack/QuizApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"GamifiedBackendStack/QuizApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["QuizApiCloudWatchRoleA32CDDC6","Arn"]}}}},"Deployment":{"id":"Deployment","path":"GamifiedBackendStack/QuizApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"QuizApiD9032479"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"GamifiedBackendStack/QuizApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"QuizApiDeploymentC8F4119B382761a394bfa86f4065aa6309329d0a"},"restApiId":{"Ref":"QuizApiD9032479"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"GamifiedBackendStack/QuizApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Default":{"id":"Default","path":"GamifiedBackendStack/QuizApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.201.0","metadata":[]},"children":{"generate-quiz":{"id":"generate-quiz","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["QuizApiD9032479","RootResourceId"]},"pathPart":"generate-quiz","restApiId":{"Ref":"QuizApiD9032479"}}}},"POST":{"id":"POST","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[]},"children":{"ApiPermission.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz":{"id":"ApiPermission.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz/POST/ApiPermission.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubmitFunction882FE8FE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"QuizApiD9032479"},"/",{"Ref":"QuizApiDeploymentStageprodD093E352"},"/POST/generate-quiz"]]}}}},"ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz":{"id":"ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz/POST/ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.POST..generate-quiz","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubmitFunction882FE8FE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"QuizApiD9032479"},"/test-invoke-stage/POST/generate-quiz"]]}}}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Default/generate-quiz/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SubmitFunction882FE8FE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"QuizApigeneratequiz5AC1D1C6"},"restApiId":{"Ref":"QuizApiD9032479"}}}}}}}},"quiz-result":{"id":"quiz-result","path":"GamifiedBackendStack/QuizApi/Default/quiz-result","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Default/quiz-result/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["QuizApiD9032479","RootResourceId"]},"pathPart":"quiz-result","restApiId":{"Ref":"QuizApiD9032479"}}}},"GET":{"id":"GET","path":"GamifiedBackendStack/QuizApi/Default/quiz-result/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[]},"children":{"ApiPermission.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result":{"id":"ApiPermission.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result","path":"GamifiedBackendStack/QuizApi/Default/quiz-result/GET/ApiPermission.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetResultFunctionBBBCDD26","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"QuizApiD9032479"},"/",{"Ref":"QuizApiDeploymentStageprodD093E352"},"/GET/quiz-result"]]}}}},"ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result":{"id":"ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result","path":"GamifiedBackendStack/QuizApi/Default/quiz-result/GET/ApiPermission.Test.GamifiedBackendStackQuizApiF23C43FB.GET..quiz-result","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetResultFunctionBBBCDD26","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"QuizApiD9032479"},"/test-invoke-stage/GET/quiz-result"]]}}}},"Resource":{"id":"Resource","path":"GamifiedBackendStack/QuizApi/Default/quiz-result/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetResultFunctionBBBCDD26","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"QuizApiquizresultEC01F4E9"},"restApiId":{"Ref":"QuizApiD9032479"}}}}}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"GamifiedBackendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"GamifiedBackendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Condition":{"id":"Condition","path":"GamifiedBackendStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"GamifiedBackendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"GamifiedBackendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}